<Window>:
    Calculate:
        name:"Calculator Machine"

    Setting:
        name:"properties"

    Properties:
        name:"version"


<Setting>:
    BoxLayout:
        orientation:"vertical"
        Label:
            text:"settings"
        Button:
            text:"Back"
            on_press: root.manager.current = 'Calculator Machine'


<Properties>:
    BoxLayout:
        orientation:"vertical"
        Label:
            text:"properties"
        Button:
            text:"Back"
            on_press: root.manager.current = 'Calculator Machine'

<Calculate>:
    id: calculator
    display: giris
    BoxLayout:
        orientation:"vertical"

        StackLayout:
            orientation: 'lr-tb'
            padding: 10
            spacing: 10
            size_hint:1,0.3

            Button:
                text:"Calculator"
                on_press: root.manager.current = 'version'
                size_hint:.2,1

            Button:
                text:"Settings"
                on_press: root.manager.current = 'properties'
                size_hint:.2,1

        TextInput:
            #multiline:False
            id: giris
            background_color: .01, .01, .01, 1
            foreground_color: [1, 1, 1, 1]

        BoxLayout:
            spacing:10
            padding:10
            size_hint:1,0.3
            Button:
                text:"("
                on_press: giris.text += self.text
            Button:
                text:")"
                on_press: giris.text += self.text
            Button:
                text:"/"
                on_press: giris.text += self.text
            Button:
                text:"*"
                on_press: giris.text += self.text
            Button:
                text:"-"
                on_press: giris.text += self.text
            Button:
                text:"C"
                on_press: giris.text = ""
                background_color:1,0,0,1
            Button:
                text:"Del"
                on_press: giris.text = giris.text[:-1]
                background_color:255,0,0,0.8


        BoxLayout:
            padding:15
            GridLayout:
                padding:15
                spacing:5
                canvas.before:
                    Color:
                        rgba: .15, .5, .5, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size

                spacing:5
                cols:3
                rows:3
                Button:
                    text:"7"
                    on_press: giris.text += self.text
                Button:
                    text:"8"
                    on_press: giris.text += self.text
                Button:
                    text:"9"
                    on_press: giris.text += self.text
                Button:
                    text:"4"
                    on_press: giris.text += self.text
                Button:
                    text:"5"
                    on_press: giris.text += self.text
                Button:
                    text:"6"
                    on_press: giris.text += self.text
                Button:
                    text:"1"
                    on_press: giris.text += self.text
                Button:
                    text:"2"
                    on_press: giris.text += self.text
                Button:
                    text:"3"
                    on_press: giris.text += self.text
            Button:
                font_size:60
                size_hint:0.2,1
                text:'+'
                on_press: giris.text += self.text

        BoxLayout:
            size_hint:1,0.3
            Button:
                text:"0"
                on_press: giris.text += self.text
            Button:
                text:"00"
                on_press: giris.text += self.text
            Button:
                text:"%"
                on_press: giris.text += self.text
            Button:
                text:"."
                on_press: giris.text += self.text
            Button:
                text:","
                on_press: giris.text += self.text
            Button:
                font_size:70
                background_color:1,1,0,1
                text:"="
                on_press: calculator.calculate(giris.text)

